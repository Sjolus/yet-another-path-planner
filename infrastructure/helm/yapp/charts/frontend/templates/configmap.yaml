{{/*
Note: NEXT_PUBLIC_* variables are baked into the frontend image at build time.
These ConfigMap values are used for server-side rendering (SSR) only.
To change client-side values, you must rebuild the Docker image.
*/}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "frontend.fullname" . }}
  labels:
    {{- include "frontend.labels" . | nindent 4 }}
data:
  NEXT_PUBLIC_API_URL: {{ .Values.env.NEXT_PUBLIC_API_URL | quote }}
  {{- if .Values.env.NEXT_PUBLIC_WS_URL }}
  NEXT_PUBLIC_WS_URL: {{ .Values.env.NEXT_PUBLIC_WS_URL | quote }}
  {{- end }}
  NEXT_PUBLIC_OTEL_SERVICE_NAME: {{ .Values.env.NEXT_PUBLIC_OTEL_SERVICE_NAME | quote }}
  {{- if .Values.env.OTEL_EXPORTER_OTLP_ENDPOINT }}
  OTEL_EXPORTER_OTLP_ENDPOINT: {{ .Values.env.OTEL_EXPORTER_OTLP_ENDPOINT | quote }}
  {{- end }}
